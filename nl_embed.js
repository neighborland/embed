if("undefined"==typeof Neighborland)var Neighborland={};Neighborland.EmbedRenderer=function(){"use strict";var e=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},t=function(t){var n="";return null!==t.i_want_text&&(n+="<div class='idea' id='"+t.id+"'><div class='ideatext'><a href='"+t.alternate_url+"'>&ldquo;"+e(t.i_want_text)+"&rdquo;</a></div>",n+="<div class='embed-pointer'></div>"),n+="<div class='embed-meta clearfix'><div class='embed-sayer'><img src='"+t.neighbor.avatar_thumb_url+"' width='36' height='36' /></div>",n+="<div class='embed-says'>says <a href='"+t.neighbor.alternate_url+"'>"+e(t.neighbor.name)+"</a> in <a href='"+t.city.alternate_url+"'>"+e(t.city.name)+", "+e(t.city.state)+"</a><br />",n+="<span class='embed-support'><strong>"+t.support_count,n+=1===t.support_count?"</strong> neighbor wants it</span></div></div>":"</strong> neighbors want it</span></div></div>",n+="</div>",n+="</div>"},n=function(t){var n="";return n+="<div class='idea clearfix' id='"+t.id+"'>",n+="<div class='embed-sayer-compact'><img src='"+t.neighbor.avatar_thumb_url+"' width='36' height='36' /></div>",n+="<div class='compact-wrap'>",null!==t.i_want_text&&(n+="<div class='ideatext-compact'><a href='"+t.alternate_url+"'>&ldquo;"+e(t.i_want_text)+"&rdquo;</a></div>"),n+="<div class='embed-meta-compact'>says <a href='"+t.neighbor.alternate_url+"'>"+e(t.neighbor.name)+"</a> in <a href='"+t.city.alternate_url+"'>"+e(t.city.name)+", "+e(t.city.state)+"</a>",n+=" / <strong>"+t.support_count,n+=1===t.support_count?"</strong> wants it</div>":"</strong> want it</div>",n+="</div>",n+="</div>"};return{renderIdeas:function(e,i){var r,o="";for(o+=this.renderTitle(e,i),r=0;r<e.length;r++)switch(i.style){case"compact":o+=n(e[r]);break;case"fancy":o+=t(e[r])}return o+="<div class='widget-footer clearfix'>Powered by <a href='https://neighborland.com'>Neighborland</a></div>"},renderTitle:function(t,n){var i="";if(t.length>0&&"question"!==n.context){switch(i+="<div class='clearfix widget-title-"+n.style+"'>",n.context){case"city":i+="Ideas in "+e(t[0].city.name);break;case"neighborhood":i+="Ideas in "+e(t[0].neighborhood.name)+", "+e(t[0].city.name);break;case"neighbor":i+="Ideas from "+e(t[0].neighbor.name)}i+="</div>"}return i},renderQuestionTitle:function(t,n){var i="";return i+="<div class='clearfix widget-title-"+n.style+"'>",i+=e(t.question_text),i+="</div>"}}}(),Neighborland.embedUrlBuilder=function(e){"use strict";var t=e+"api/v1/",n=function(e){return e?"string"!=typeof e?!1:e.length>=1:!1},i=function(e,t){var i="";return e&&(i+=e.limit&&e.limit>0?"?per_page="+e.limit:"?per_page=5",n(e.filter)&&(i+="&filter="+encodeURIComponent(e.filter))),t||(i+=e&&e.rootId?"&callback="+e.rootId+".serverResponse":"&callback=NlEmbed.serverResponse"),i};return{cityUrl:function(e,r,o){return e&&n(e)?t+"cities/"+encodeURIComponent(e)+"/ideas"+i(r,o):void 0},questionUrl:function(e,r,o){return e&&n(e)?t+"questions/"+encodeURIComponent(e)+"/ideas"+i(r,o):void 0},neighborhoodUrl:function(e,r,o){return e&&n(e)?t+"neighborhoods/"+encodeURIComponent(e)+"/ideas"+i(r,o):void 0},neighborUrl:function(e,r,o){return e&&n(e)?t+"neighbors/"+encodeURIComponent(e)+"/ideas"+i(r,o):void 0},oneQuestionUrl:function(e,i){return e&&n(e)?i&&i.rootId?t+"questions/"+encodeURIComponent(e)+"?callback="+i.rootId+".questionResponse":t+"questions/"+encodeURIComponent(e)+"?callback=NlEmbed.questionResponse":void 0}}},Neighborland.nlEmbedBuilder=function(e){"use strict";function t(e){var t,n;for(t=document.createElement("link"),t.rel="stylesheet",t.type="text/css",t.href=e,t.media="all",n=document.lastChild;1!==n.nodeType;)n=n.previousSibling;for(n=n.firstChild;1!==n.nodeType;)n=n.nextSibling;n.appendChild(t)}function n(e){var t=document.createElement("script");t.src=e,document.getElementsByTagName("head")[0].appendChild(t)}function i(e){return e&&e.rootId?e.rootId:"nl_embed"}function r(r,o){t(e+"static/nl_embed.css?cachebuster=2"),document.write("<div class='neighborland_embed' id='"+i(o)+"' style='display: none'></div>"),n(r);var d=document.getElementById("no_script");d&&(d.style.display="none")}function o(e){return e&&e.style?e.style:"fancy"}function d(e){return e&&e.width?e.width:"330px"}var s=Neighborland.embedUrlBuilder(e);return{cityIdeas:function(e,t){var n=s.cityUrl(e,t);this.serverResponse=function(e){this.renderIdeas(e,{style:o(t),context:"city",width:d(t),rootId:i(t)})},r(n,t)},questionIdeas:function(e,t){var a,l=s.questionUrl(e,t);this.serverResponse=function(e){this.renderIdeas(e,{style:o(t),context:"question",width:d(t),rootId:i(t)})},a=s.oneQuestionUrl(e,t),this.questionResponse=function(e){this.renderQuestionTitle(e,{style:o(t),context:"question",width:d(t),rootId:i(t)})},r(l,t),n(a)},neighborhoodIdeas:function(e,t){var n=s.neighborhoodUrl(e,t);this.serverResponse=function(e){this.renderIdeas(e,{style:o(t),context:"neighborhood",width:d(t),rootId:i(t)})},r(n,t)},neighborIdeas:function(e,t){var n=s.neighborUrl(e,t);this.serverResponse=function(e){this.renderIdeas(e,{style:o(t),context:"neighbor",width:d(t),rootId:i(t)})},r(n,t)},renderQuestionTitle:function(e,t){if(e){var n=document.getElementById(t.rootId),i="",r=n.innerHTML;i=Neighborland.EmbedRenderer.renderQuestionTitle(e,t),n.innerHTML=i+r}},renderIdeas:function(e,t){if(e){var n=document.getElementById(t.rootId),i="";i=Neighborland.EmbedRenderer.renderIdeas(e,t),n.innerHTML=n.innerHTML+i,n.style.width=t.width,n.style.display="block",n.style.visibility="visible"}}}};var NlEmbed=Neighborland.nlEmbedBuilder("https://neighborland.com/");